(function(){"use strict";var e={6919:function(e,r,t){var o=t(3751),l=t(641);function n(e,r,t,o,n,a){const u=(0,l.g2)("ElevatorShaft");return(0,l.uX)(),(0,l.Wv)(u)}const a={class:"elevator-shaft"};function u(e,r,t,o,n,u){const s=(0,l.g2)("TheElevator"),i=(0,l.g2)("TheFloor");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.bF)(s,{currentFloor:n.elevator.currentFloor},null,8,["currentFloor"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.totalFloors,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:e,floorNumber:e,currentFloor:n.elevator.currentFloor,onCallElevator:u.callElevator},null,8,["floorNumber","currentFloor","onCallElevator"])))),128))])}t(4114);var s=t(33);function i(e,r,t,o,n,a){return(0,l.uX)(),(0,l.CE)("div",{class:"elevator",style:(0,s.Tr)({top:n.elevatorPosition+"px"})},"Лифт",4)}var c={props:["currentFloor"],data(){return{elevatorPosition:0}},watch:{currentFloor(e){this.moveElevatorTo(e)}},methods:{moveElevatorTo(e){const r=138,t=(e-1)*r,o=5*Math.abs(this.elevatorPosition-t);this.elevatorPosition=t,setTimeout((()=>{this.$emit("arrive",e)}),o)}}},v=t(6262);const h=(0,v.A)(c,[["render",i],["__scopeId","data-v-37018fe6"]]);var f=h;const p={class:"floor"};function d(e,r,t,o,n,a){return(0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("button",{class:(0,s.C4)([t.floorNumber===t.currentFloor?"green":n.callMade?"active":"button"]),onClick:r[0]||(r[0]=(...e)=>a.callElevator&&a.callElevator(...e))},(0,s.v_)(t.floorNumber===t.currentFloor?"Текущий этаж":"Вызвать на этаж номер "+t.floorNumber),3)])}var m={props:["floorNumber","currentFloor"],data(){return{callMade:!1}},methods:{callElevator(){this.callMade=!0,this.$emit("callElevator",this.floorNumber),setTimeout((()=>{this.callMade=!1}),5e3)}}};const F=(0,v.A)(m,[["render",d],["__scopeId","data-v-d628d11a"]]);var E=F,b={data(){return{totalFloors:5,elevator:{currentFloor:1,targetFloor:1,queue:[],passengers:[]}}},components:{TheElevator:f,TheFloor:E},methods:{callElevator(e){e!==this.elevator.currentFloor&&(this.elevator.queue.push(e),1===this.elevator.queue.length&&this.moveElevator())},moveElevator(){const e=setInterval((()=>{this.elevator.currentFloor<this.elevator.targetFloor?this.elevator.currentFloor++:this.elevator.currentFloor>this.elevator.targetFloor?this.elevator.currentFloor--:(clearInterval(e),this.handleArrival())}),1e3)},handleArrival(){const e=this.elevator.queue.shift();this.elevator.targetFloor=e;const r=this.elevator.queue.filter((r=>r<e));r.forEach((e=>{this.elevator.passengers.push(e);const r=this.elevator.queue.indexOf(e);this.elevator.queue.splice(r,1)})),this.elevator.passengers.length>0?(this.elevator.targetFloor=1,this.moveElevator()):this.elevator.queue.length>0&&this.moveElevator()}}};const g=(0,v.A)(b,[["render",u]]);var y=g,O={name:"App",components:{ElevatorShaft:y}};const T=(0,v.A)(O,[["render",n]]);var C=T;(0,o.Ef)(C).mount("#app")}},r={};function t(o){var l=r[o];if(void 0!==l)return l.exports;var n=r[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(r,o,l,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],l=e[c][1],n=e[c][2];for(var u=!0,s=0;s<o.length;s++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(u=!1,n<a&&(a=n));if(u){e.splice(c--,1);var i=l();void 0!==i&&(r=i)}}return r}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,l,n]}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={524:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var l,n,a=o[0],u=o[1],s=o[2],i=0;if(a.some((function(r){return 0!==e[r]}))){for(l in u)t.o(u,l)&&(t.m[l]=u[l]);if(s)var c=s(t)}for(r&&r(o);i<a.length;i++)n=a[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},o=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(6919)}));o=t.O(o)})();
//# sourceMappingURL=app.4fa3e5ae.js.map